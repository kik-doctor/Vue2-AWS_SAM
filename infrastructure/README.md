# Deploying

It is important to note that before creating the infrastructure for the API Gateway domain, you must have an active and valid certificate within the `us-east-1` availability zone.

1. Create this certificate manually in the AWS console, switch to `us-east-1`, navigate to `Certificate Manager` and follow the wizard to create the certificate, you'll want to select DNS verification.
2. You'll need to edit the `template.yaml`, ensuring that `BUDDomainName`, `APIBasePathMapping` and the `A` name within the `RecordSets` is commented out
3. As we selected DNS verification, you'll need to edit the `CNAME` with the identifier `DNS Verification` within `package.yaml` and change the values to those generated by certificate manager
4. At this stage you can `make package && make deploy`
5. Once the infrastructure is created, `ACM` should see the verification CNAME and mark the certificate as valid, `ACM` then may take up to 30 mins to issue your certificate, once it has proceed to step 6
6. In `ACM` select your new certificate and copy its `ARN`, head over to `template.yaml` and comment back in `BUDDomainName`, `APIBasePathMapping` and the `A` name within the `RecordSets` is commented out
7. Update `BUDDomainName` `CertificateArn` property with the `ARN` of the certificate you just copied
8. Finally `make package && make deploy`